@model JRMarketing.Gui.Models.Restaurantes
@using Microsoft.AspNetCore.Http;
@{
    ViewData["Title"] = "Actualizar Restaurante";
    string tipo = Context.Session.GetString("tipo");
    if (tipo == "Admin")
        Layout = "~/Views/Shared/AdminLayout.cshtml";
    else
        Layout = "~/Views/Shared/LayoutUser.cshtml";
}


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/css/select2.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/select2.min.js"></script>

<link href="~/css/estilos.css" rel="stylesheet" />
<link href="~/css/otros/style.css" rel="stylesheet" />

<div class="container-xl table-wrapper" style="margin-left: 35px;">
    <hr />
    @if (tipo == "Admin")
    {
        <h2 class="text-center">Datos del Restaurante <a asp-controller="Home" asp-action="IndexAdministracion" class="btn btn-sm btn-secondary text-center">Regresar</a></h2>
    }
    else
    {
        <h2 class="text-center">Datos del Restaurante <a asp-controller="Home" asp-action="IndexCliente" class="btn btn-sm btn-secondary text-center">Regresar</a></h2>
    }
    <div class="container">
        <form style="margin-top: 25px;" asp-action="Update" enctype="multipart/form-data">

            <input type="hidden" class="form-control" name="IdUsuarioR" value="@Model.IdUsuarioR" />

            <div class="form-group form-row">
                <div class="col-md-8 mt-md-2">
                    <label for="Name" class="control-label col-md-8">Nombre del Restaurante:</label>
                    <div class="col-md-12">
                        <input class="form-control" name="NombreRestaurante" value="@Model.NombreRestaurante" />
                    </div>
                </div>
                <div class="col-md-4 mt-md-2">
                    <label for="StartLocation" class="control-label col-md-2">Dirección:</label>
                    <div class="col-md-12">
                        <input type="text" class="form-control" name="DireccionR" value="@Model.DireccionR" />
                    </div>
                </div>
                <div class="col-md-4 mt-md-2">
                    <label for="EndLocation" class="control-label col-md-2">Colonia:</label>
                    <div class="col-md-12">
                        <input class="form-control" name="ColoniaR" value="@Model.ColoniaR" />
                    </div>
                </div>
                <div class="col-md-4 mt-md-3">
                    <label for="Name" class="control-label col-md-2">Estado:</label>
                    <div class="col-md-12">
                        <select class="form-control" name="EstadoR" required>
                            <option value="@Model.EstadoR" selected>@Model.EstadoR</option>
                            <option value="Aguascalientes">Aguascalientes</option>
                            <option value="Baja California">Baja California</option>
                            <option value="Baja California Sur">Baja California Sur</option>
                            <option value="Campeche">Campeche</option>
                            <option value="Chiapas">Chiapas</option>
                            <option value="Chihuahua">Chihuahua</option>
                            <option value="CDMX">Ciudad de México</option>
                            <option value="Coahuila">Coahuila</option>
                            <option value="Colima">Colima</option>
                            <option value="Durango">Durango</option>
                            <option value="Estado de México">Estado de México</option>
                            <option value="Guanajuato">Guanajuato</option>
                            <option value="Guerrero">Guerrero</option>
                            <option value="Hidalgo">Hidalgo</option>
                            <option value="Jalisco">Jalisco</option>
                            <option value="Michoacán">Michoacán</option>
                            <option value="Morelos">Morelos</option>
                            <option value="Nayarit">Nayarit</option>
                            <option value="Nuevo León">Nuevo León</option>
                            <option value="Oaxaca">Oaxaca</option>
                            <option value="Puebla">Puebla</option>
                            <option value="Querétaro">Querétaro</option>
                            <option value="Quintana Roo">Quintana Roo</option>
                            <option value="San Luis Potosí">San Luis Potosí</option>
                            <option value="Sinaloa">Sinaloa</option>
                            <option value="Sonora">Sonora</option>
                            <option value="Tabasco">Tabasco</option>
                            <option value="Tamaulipas">Tamaulipas</option>
                            <option value="Tlaxcala">Tlaxcala</option>
                            <option value="Veracruz">Veracruz</option>
                            <option value="Yucatán">Yucatán</option>
                            <option value="Zacatecas">Zacatecas</option>
                        </select>
                    </div>

                </div>
                <div class="col-md-4 mt-md-3">
                    <label for="StartLocation" class="control-label col-md-2">Ciudad:</label>
                    <div class="col-md-12">
                        <input class="form-control" name="CiudadR" value="@Model.CiudadR" />
                    </div>
                </div>
                <div class="col-md-4 mt-md-3">
                    <label for="EndLocation" class="control-label col-md-10">Código Postal:</label>
                    <div class="col-md-12">
                        <input class="form-control" name="CoidgoPostalR" value="@Model.CoidgoPostalR" />
                    </div>
                </div>
                <div class="col-md-4 mt-md-3" style="min-width: 900px;">
                    <label for="Name" class="control-label col-md-2">Descripción:</label>
                    <div class="col-md-12" style="min-width: 900px;">
                        <input class="form-control" name="DescripcionR" value="@Model.DescripcionR" />
                    </div>
                </div>
                <div class="col-md-4 mt-md-3" style="min-width: 900px;">
                    <label for="StartLocation" class="control-label col-md-2">Horario:</label>
                    <div class="col-md-12" style="min-width: 900px;">
                        <input class="form-control" name="Horario" value="@Model.Horario" />
                    </div>
                </div>
                <div class="col-md-4 mt-md-3" style="min-width: 900px;">
                    <label for="StartLocation" class="control-label col-md-2">Telefono:</label>
                    <div class="col-md-12" style="min-width: 900px;">
                        <input class="form-control" name="Telefono" value="@Model.Telefono" />
                    </div>
                </div>
                <div class="container" style="margin-top: 15px; margin-bottom: 25px;">
                    <p>Alimenos y Bebidas que maneja</p>
                    <select class="mul-select form-control caja" multiple asp-for="idEtiquetas">
                        @foreach(var item in Model.Etiquetas)
                        {
                            var find = Model.RestauranteEtiqueta.FirstOrDefault(e => e.IdEtiquetaRestau == item.Id);
                            if(find != null)
                            {
                                <option value="@item.Id" selected>@item.NombreEtiqueta</option>
                            }
                            else
                            {
                                <option value="@item.Id">@item.NombreEtiqueta</option>
                            }
                        }
                    </select>
                </div>
                <div class="form-group">
                    <img class="imagen" src="~/myimages/@Model.FotografiaR" /><br />
                    <label for="exampleFormControlFile1">Cambiar Imagen</label>
                    <input type="file" class="form-control-file" asp-for="file" id="exampleFormControlFile1">
                </div>
                <input type="hidden" asp-for="FotografiaR" value="@Model.FotografiaR" />
            </div>
            <div class="form-group">
                <input type="submit" value="Actualizar Datos" class="btn btn-primary btn-lg btn-block mt-md-3" style="margin:10px" />
            </div>
        </form>
    </div>
</div>

<script>
    $(document).ready(function () {
        $(".mul-select").select2({
            placeholder: "Seleccione una o varias categorías", //placeholder
            tags: true,
            tokenSeparators: ['/', ',', ';', " "]
        });
    })
</script>
